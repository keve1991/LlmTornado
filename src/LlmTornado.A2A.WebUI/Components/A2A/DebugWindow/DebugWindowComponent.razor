@using LlmTornado.A2A.WebUI.Models
@inject IJSRuntime JS

<div class="debug-window">
    <div class="debug-messages" @ref="debugMessagesElement">
        @foreach (var message in Messages.OrderByDescending(m => m.Timestamp))
        {
            <div class="debug-message @GetLevelClass(message.Level)">
                <div class="debug-header">
                    <span class="debug-time">@message.Timestamp.ToString("HH:mm:ss.fff")</span>
                    <span class="debug-level">@message.Level</span>
                </div>
                <div class="debug-content">
                    @message.Message
                </div>
            </div>
        }
        
        @if (!Messages.Any())
        {
            <div class="no-debug-messages">
                <div class="no-messages-icon">🐛</div>
                <div class="no-messages-text">No debug messages yet.</div>
            </div>
        }
    </div>
    
    <div class="debug-actions">
        <button class="btn btn-sm btn-secondary" @onclick="ClearMessages">
            Clear Debug
        </button>
        <button class="btn btn-sm btn-secondary" @onclick="ScrollToTop">
            Scroll to Top
        </button>
        <div class="debug-stats">
            @Messages.Count messages
        </div>
    </div>
</div>